
WRSSL LOG:


[VxWorks Boot]: @

boot device          : motfcc
unit number          : 0 
processor number     : 0 
host name            : host
file name            : vxWorks
inet on ethernet (e) : 10.10.10.99:ffffff00
host inet (h)        : 10.10.10.100
gateway inet (g)     : 10.10.10.100
user (u)             : target
ftp password (pw)    : target
flags (f)            : 0x0 
other (o)            : motfcc0

Attached TCP/IP interface to motfcc0.
Attaching network interface lo0... done.
Loading... 2169508 + 365173
Starting at 0x100000...

Attaching interface lo0... done
0x1fffd50 (tRootTask): miiPhyInit check cable connection 
0x1fffd50 (tRootTask): miiPhyInit check cable connection 
Attached IPv4 interface to motfcc unit 0

Adding 7617 symbols for standalone.
 

 ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
 ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
 ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
      ]]]]]]]]]]]  ]]]]     ]]]]]]]]]]       ]]              ]]]]         (R)
 ]     ]]]]]]]]]  ]]]]]]     ]]]]]]]]       ]]               ]]]]            
 ]]     ]]]]]]]  ]]]]]]]]     ]]]]]] ]     ]]                ]]]]            
 ]]]     ]]]]] ]    ]]]  ]     ]]]] ]]]   ]]]]]]]]]  ]]]] ]] ]]]]  ]]   ]]]]]
 ]]]]     ]]]  ]]    ]  ]]]     ]] ]]]]] ]]]]]]   ]] ]]]]]]] ]]]] ]]   ]]]]  
 ]]]]]     ]  ]]]]     ]]]]]      ]]]]]]]] ]]]]   ]] ]]]]    ]]]]]]]    ]]]] 
 ]]]]]]      ]]]]]     ]]]]]]    ]  ]]]]]  ]]]]   ]] ]]]]    ]]]]]]]]    ]]]]
 ]]]]]]]    ]]]]]  ]    ]]]]]]  ]    ]]]   ]]]]   ]] ]]]]    ]]]] ]]]]    ]]]]
 ]]]]]]]]  ]]]]]  ]]]    ]]]]]]]      ]     ]]]]]]]  ]]]]    ]]]]  ]]]] ]]]]]
 ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]
 ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]       Development System
 ]]]]]]]]]]]]]]]]]]]]]]]]]]]]
 ]]]]]]]]]]]]]]]]]]]]]]]]]]]       VxWorks 6.1
 ]]]]]]]]]]]]]]]]]]]]]]]]]]       KERNEL: WIND version 2.7
 ]]]]]]]]]]]]]]]]]]]]]]]]]       Copyright Wind River Systems, Inc., 1984-2005

 CPU: Wind River SBC PowerQUICC II - MPC82xx PowerQUICC II.  Processor #0.
 Memory Size: 0x2000000.  BSP version 2.0/8.
 Created: Mar 18 2015, 06:10:37
 ED&R Policy Mode: Deployed
 WDB Comm Type: WDB_COMM_END
 WDB: Ready.

-> nm_server_main("9","-cert","server.pem","-key","serverkey.pem","-CAfile","ca.pem","-Verify","2","-ssl3")
verify depth is 2, must return a certificate
Using default temp DH parameters
ACCEPT
bad gethostbyaddr
depth=1 /C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=chetan/emailAddress=nm@nm.com
verify return:1
CHETAN: RETURN VALUE i=-1
depth=0 /C=IN/ST=karnataka/L=bangalore/O=nm/OU=nm/CN=common/emailAddress=nm@nm.com
verify return:1
ERROR
8275576:error:0D09B0A3:asn1 encoding routines:d2i_PublicKey:unknown public key type:d2i_pu.c:112:
8275576:error:0B077066:x509 certificate routines:X509_PUBKEY_get:err asn1 lib:x_pubkey.c:196:
8275576:error:0B06E06C:x509 certificate routines:X509_get_pubkey_parameters:unable to get certs public key:x509_vfy.c:916:
8275576:error:0D09B0A3:asn1 encoding routines:d2i_PublicKey:unknown public key type:d2i_pu.c:112:
8275576:error:0B077066:x509 certificate routines:X509_PUBKEY_get:err asn1 lib:x_pubkey.c:196:
8275576:error:140880AE:SSL routines:SSL3_GET_CERT_VERIFY:missing verify message:s3_srvr.c:1813:
shutting down SSL
CONNECTION CLOSED
ACCEPT



......................................................................................................................................................



OPENSSL LOG:

openssl-1.0.2# ./apps/openssl s_client -connect 10.10.10.99:4433 -cert dhcert1.pem -key dhkey.pem -CAfile ca.pem -ssl3
CONNECTED(00000003)
depth=1 C = IN, ST = karnataka, L = bangalore, O = NM, OU = NM, CN = chetan, emailAddress = nm@nm.com
verify return:1
depth=0 C = IN, ST = karnataka, L = bangalore, O = NM, OU = NM, CN = jacob, emailAddress = nm@nm.com
verify return:1
3075987708:error:140943F2:SSL routines:ssl3_read_bytes:sslv3 alert unexpected message:s3_pkt.c:1456:SSL alert number 10
3075987708:error:1409E0E5:SSL routines:ssl3_write_bytes:ssl handshake failure:s3_pkt.c:644:
---
Certificate chain
 0 s:/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=jacob/emailAddress=nm@nm.com
   i:/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=chetan/emailAddress=nm@nm.com
 1 s:/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=chetan/emailAddress=nm@nm.com
   i:/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=chetan/emailAddress=nm@nm.com
---
Server certificate
-----BEGIN CERTIFICATE-----
MIICKTCCAdMCCQDfmG8fSdztWTANBgkqhkiG9w0BAQQFADB6MQswCQYDVQQGEwJJ
TjESMBAGA1UECAwJa2FybmF0YWthMRIwEAYDVQQHDAliYW5nYWxvcmUxCzAJBgNV
BAoMAk5NMQswCQYDVQQLDAJOTTEPMA0GA1UEAwwGY2hldGFuMRgwFgYJKoZIhvcN
AQkBFglubUBubS5jb20wHhcNMTUwMzE2MTAxNDAyWhcNMTcwMzE1MTAxNDAyWjB5
MQswCQYDVQQGEwJJTjESMBAGA1UECAwJa2FybmF0YWthMRIwEAYDVQQHDAliYW5n
YWxvcmUxCzAJBgNVBAoMAk5NMQswCQYDVQQLDAJOTTEOMAwGA1UEAwwFamFjb2Ix
GDAWBgkqhkiG9w0BCQEWCW5tQG5tLmNvbTCBnzANBgkqhkiG9w0BAQEFAAOBjQAw
gYkCgYEAsnLcNKDxpNBsJS/5O6TVYpfzFEvVmvNdncJJODnQyspTTdypwFfxGpLa
4IblRxI4Y52ig/OK5j23/S5RiP3bKvxb6Sg9y4NlPO1bhjKo7TBabVFc64h9zvIv
gnlCBQDX7CGG0O6gVopgXVPt1qzESynRtZMVsYufJ2AsiDs2zskCAwEAATANBgkq
hkiG9w0BAQQFAANBAAcHgBqv1n52uCHipY9Vby6OrLn40lxxm2FdcWanbGbg13vv
hZD49FUVG/MxrvRd8oVqvT7Rt4FoMSD/6hVIPm4=
-----END CERTIFICATE-----
subject=/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=jacob/emailAddress=nm@nm.com
issuer=/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=chetan/emailAddress=nm@nm.com
---
Acceptable client certificate CA names
/C=IN/ST=karnataka/L=bangalore/O=NM/OU=NM/CN=chetan/emailAddress=nm@nm.com
Client Certificate Types: RSA fixed DH, DSS fixed DH, UNKNOWN (5),, UNKNOWN (6),, RSA sign, DSA sign
Server Temp Key: DH, 512 bits
---
SSL handshake has read 1660 bytes and written 1432 bytes
---
New, TLSv1/SSLv3, Cipher is DHE-RSA-AES256-SHA
Server public key is 1024 bit
Secure Renegotiation IS NOT supported
Compression: NONE
Expansion: NONE
No ALPN negotiated
SSL-Session:
    Protocol  : SSLv3
    Cipher    : DHE-RSA-AES256-SHA
    Session-ID: 8270BCD57670BA6DACAE1D8D6EA2038C3B24DB193DAC15362F738FE91F5A733B
    Session-ID-ctx: 
    Master-Key: E05DEC48DBAB8D624EF7DCCEB985D4DD9BC3406AD914105418FF5CEA623A99F2D7AE5C7935618A075F61EB58C50B1A3D
    Key-Arg   : None
    PSK identity: None
    PSK identity hint: None
    SRP username: None
    Start Time: 1426659212
    Timeout   : 7200 (sec)
    Verify return code: 0 (ok)
---

